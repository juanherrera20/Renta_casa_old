{% extends "barra_navegacion.html" %}
{% load static %}

{% block static %}
    <script type="text/javascript"  src='{% static "js/all.js" %}'></script>
    <link rel="stylesheet" href='{% static "css/tareas/add_tarea.css" %}' type="text/css">
{% endblock static %}

{% block encabezado %}
  Add Tareas
{% endblock encabezado %}

{% block title %}

{% endblock title %}

{% block contenido %}
    <h2>AÃ±adir Tarea</h2>
    <h4>Lo ideal es que este "Guardar" sea en una ventana emergente.</h4><br><br>
    <form action="{% url 'GuardarTarea' %}" method="post" id="addTarea">
        {% csrf_token %}
        
        <label for="titulo">Tutilo</label>
        <input type="text" name="titulo" id="titulo" placeholder="Escribir" required><br>

        <label for="descrip">Descripcion</label>
        <input type="text" name="descrip" id="descrip" placeholder="Escribir"><br>

        <label for="estado">Estado</label>
        <select name="estado" id="estado" required>
            <option value="">Seleccione el tipo de estado</option>
            <option value="1">Pendiente</option>
            <option value="2">Completa</option>
            <option value="3">Incompleta</option>
        </select><br>
        <label for="fecha_inicio">Fecha de inicio</label>
        <input type="date" name="fecha_inicio" id="fecha_inicio" placeholder="dd/mm/YYYY"><br>
        <label for="fecha_fin">Fecha de vencimiento</label>
        <input type="date" name="fecha_fin" id="fecha_fin" placeholder="dd/mm/YYYY"><br>

        <label for="etiqueta">Etiqueta</label>
        <select name="etiqueta" id="etiqueta" required>
            <option value="">Seleccione el tipo etiqueta</option>
            <option value="1">Presentar</option>
            <option value="2">Visitar</option>
            <option value="3">Mantenimiento</option>
            <option value="4">Urgente</option>
        </select><br>

        <label for="hora_programada">Hora Programada</label>
        <input type="time" name="hora_programada" id="hora_programada"><br>

        <label for="responsable">Responsable</label>
        <select name="usuario">
            <option value="">Responsable de la tarea</option>
            {% for nombre, apellido, id in nombres_usuario %}
            <option value="{{ id }}">{{ nombre |add:" "|add:apellido }}</option>
            {% endfor %}
        </select><br>

        <button type="submit" name="add" id="add" value="1">Guardar</button> 
    </form>
    <button  name="borrar" id="borrar" value="2" onclick="resetForm()">Eliminar</button> <label for="cancelar">Eliminar, limpiara todos los campos</label><br><br><br> <!-- Se debe aplicar JS para limpiar los campos del Form -->

{% endblock %}
