{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript"  src='{% static "js/tareas/dash_tareas.js" %}'></script>
    <link rel="stylesheet" href='{% static "css/tareas/dash_tareas.css" %}' type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <title>Tareas</title>
</head>
<body>

<style>

</style>
    <h2>Tareas</h2>
    <div class="containerr">
      <nav>
        <ul> <!-- Este estilo se debe poner luego en el CSS. Estilo temporal para mejor visualidad -->
        <br>
          <li><p>Logo</p></li>
          <li><a href="{% url 'inicio' %}">Inicio</a></li>
          <li><a href="{% url 'inmu' %}">Inmuebles</a></li>
          <li>
            <select name="personas" id="personas" onchange="location.href=this.value;">
              <option value="1">Personas</option>
              <option value="{% url 'personas_propietarios' %}">Propietarios</option>
              <option value="{% url 'personas_inquilinos' %}">Inquilinos</option>>
            </select>
          </li>
          <li>
            <select name="analisis" id="analisis" onchange="location.href=this.value;">
              <option value="1">Analisis</option>
              <option value="{% url 'analisis_propietarios' %}">Propietarios</option>
              <option value="{% url 'analisis_inquilinos' %}">Inquilinos</option>
            </select>
          </li>
          <li><a href="#">Tareas</a></li>
          <br>
          <li><a href="{% url 'close_session' %}">Cerrar Sesi칩n</a></li>
          <li><a href="{% url 'noti' %}">Notificaciones</a></li>
          <li><p>Foto</p></li>
        </ul>
      </nav>
    </div>
    <h2>Manejo de tareas y eventos</h2>
    <h3>Seguimiento de las tareas</h3>
    <h5>Todos las tareas Registradas en la plataforma</h5>
    <!-- Pendiente de preguntar en la siguiente reuni칩n. -->
    <!-- <input type="search" id="buscar" name="buscar" placeholder="Buscar...">  --><button name="filtro" id="filtro" value="3">Filtrar</button> <a href="{% url 'AddTarea' %}"> + A침adir Tarea</a>
    <br>

    <h2>Pendientes</h2>
    <ul id="lista-tareas">
      {% for tarea in context.pendientes %}
      <button class="btn btn-primary tarea-btn" data-tarea-id="{{ tarea.id }}" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap" data-id="{{ tarea.id }}" data-descripcion="{{ tarea.descripcion }}"> 
        Etiqueta: {{ tarea.etiqueta }}
        <h3>Titulo: {{ tarea.titulo }}</h3>
        Fecha inicio: {{ tarea.fecha_inicio }} Fecha fin: {{ tarea.fecha_fin }}
        <h4>{{ tarea.superuser_id.nombre }} {{ tarea.superuser_id.apellido }}</h4></button><br>
      ----------------------------------------------------- <br><br><!-- Estos guiones solo son para guiarnos y saber cuando termina cada tarea -->
      {% endfor %}
    </ul>

    <h2>Completas</h2>
    <ul>
      {% for tarea in context.completas %}
      <button class="btn btn-primary tarea-btn" data-tarea-id="{{ tarea.id }}" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap" data-id="{{ tarea.id }}" data-descripcion="{{ tarea.descripcion }}">
        <li>Etiqueta: {{ tarea.etiqueta }}</li>
        <li><h3>Titulo: {{ tarea.titulo }}</h3></li>
        <li>Fecha incio: {{ tarea.fecha_inicio }}      Fecha fin: {{ tarea.fecha_fin }}</li>
        <h4>{{ tarea.superuser_id.nombre }} {{ tarea.superuser_id.apellido }}</h4></button><br>
        -----------------------------------------------------<br><br>
      {% endfor %}
    </ul>

    <h2>Incompletas</h2>
    <ul>
      {% for tarea in context.incompletas %}
      <button class="btn btn-primary tarea-btn" data-tarea-id="{{ tarea.id }}" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap" data-id="{{ tarea.id }}" data-descripcion="{{ tarea.descripcion }}">

        <li>Etiqueta: {{ tarea.etiqueta }}</li>
        <li><h3>Titulo: {{ tarea.titulo }}</h3></li>
        <li>Fecha incio: {{ tarea.fecha_inicio }}      Fecha fin: {{ tarea.fecha_fin }}</li>
        <h4>{{ tarea.superuser_id.nombre }} {{ tarea.superuser_id.apellido }}</h4></button><br>
        -----------------------------------------------------<br><br>
      {% endfor %}
    </ul><br><br><br>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Descripci칩n de tarea</h5>
            <button type="button" class="btn-close closeModal" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary closeModal" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary">Actualizar</button>
          </div>
        </div>
      </div>
    </div>
</body>
</html>